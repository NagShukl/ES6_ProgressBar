!function(e){function t(t){for(var r,o,c=t[0],l=t[1],s=t[2],d=0,p=[];d<c.length;d++)o=c[d],a[o]&&p.push(a[o][0]),a[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(u&&u(t);p.length;)p.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var l=n[c];0!==a[l]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={0:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var u=l;i.push([104,2]),n()}({104:function(e,t,n){"use strict";n.r(t);n(39),n(68),n(84),n(55),n(57),n(95),n(100),n(62),n(102);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"barAnimation_prefix","barAnimation_"),a(this,"limit",100),a(this,"selectedBar",0),a(this,"cachedPercentage",new Set),a(this,"renderBars",function(e,n){t.pBarModel=n,t.limit=n.limit,t.updateBarInDom(e,t.pBarModel.bars),t.animateBar(),t.getOriginalData()}),a(this,"getOriginalData",function(){document.getElementById("orgData").innerHTML=JSON.stringify(t.pBarModel)}),a(this,"updateProgressBar",function(e){t.pBarModel.bars[t.selectedBar]=t.pBarModel.bars[t.selectedBar]+ +e.target.value,t.pBarModel.bars[t.selectedBar]<=0&&(t.pBarModel.bars[t.selectedBar]=0),document.getElementById(t.getBarId(t.selectedBar)).innerHTML=t.getBar(t.pBarModel.bars[t.selectedBar],t.selectedBar),t.attachStyle(t.animateBar(t.pBarModel.bars[t.selectedBar])),t.getOriginalData()}),a(this,"updateSelectedBar",function(e){t.selectedBar=e.target.value}),a(this,"getBarId",function(e){return"barId_"+e}),a(this,"updateBarInDom",function(e,n){var r=t.getBars(n);t.attachStyle(r.animate),e.innerHTML=r.html}),a(this,"attachStyle",function(e){var t=document.createElement("style");t.type="text/css",t.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(t)}),a(this,"getBars",function(e){var n="",r="";return e.forEach(function(e,a){n+='<div id="'.concat(t.getBarId(a),'" class="pbar-wrapper">').concat(t.getBar(e,a)," </div>"),r+=t.animateBar(e)}),{html:n,animate:r}}),a(this,"getBar",function(e,n){return console.log("getBar is called"),'<div class="value-div" id="content_'.concat(t.getBarId(n),'">').concat(t.getPerentage(e),'%</div>\n        <div id="pBar_').concat(t.getBarId(n),'" class="').concat(t.getBarCssClass(e),'" style="width: ').concat(t.getPerentageStyle(e),"%; animation-name: ").concat(t.barAnimation_prefix).concat(e,';">&nbsp;</div>\n     ')}),a(this,"getBarCssClass",function(e){var n=t.getPerentage(e),r="pbar ";return n<=0&&(r+="pbar-below0"),n>100&&(r+="pbar-above100"),r}),a(this,"animateBar",function(e){console.log(e+" : "+t.cachedPercentage);var n=t.getPerentageStyle(e);return n in t.cachedPercentage?"":"@keyframes ".concat(t.barAnimation_prefix).concat(e," {\n                from {width: 0%;}\n                to {width: ").concat(n,"%;}\n                }")})}var t,n,i;return t=e,(n=[{key:"getPerentageStyle",value:function(e){var t=this.getPerentage(e);return t<=100?t:100}},{key:"getPerentage",value:function(e){if(e<=0)return 0;var t=Math.round(100*e/this.limit);return this.cachedPercentage.add(t),t}}])&&r(t.prototype,n),i&&r(t,i),e}();function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"renderButtonPanel",function(e,n,r,a){t.pBarModel=n;var i=document.createElement("ul"),o=document.createElement("li");t.getProgressBarSelect(o,n,a),i.appendChild(o),t.getButtonsList(i,n.buttons,r),e.appendChild(i)}),o(this,"getProgressBarSelect",function(e,n,r){var a=document.createElement("select");a.onchange=r,t.getProgressBarSelectOptions(a,n.bars),e.appendChild(a)}),o(this,"getProgressBarSelectOptions",function(e,t){var n;t.forEach(function(t,r){(n=document.createElement("option")).value=r,n.text="ProgressBar #"+r,e.appendChild(n)})}),o(this,"getButtonsList",function(e,n,r){n.forEach(function(n){t.createButton(e,n,r)})}),o(this,"createButton",function(e,t,n){var r=document.createElement("li"),a=document.createElement("input");a.type="button",a.value=t,a.onclick=n,r.appendChild(a),e.appendChild(r)})};function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"default",function(){return u});var s={bars:[10,300,40,50,45,32,-5],buttons:[-20,30,-40,50,-45,32,-65],limit:200},u=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"pBarModel",void 0),l(this,"init",function(){fetch("http://pb-api.herokuapp.com/bars").then(function(e){return e.json()}).then(function(e){n.pBarModel=e,n.initBars()}).catch(function(e){console.log("Error loading data from api!!! using mock data"),n.initBars()})}),l(this,"initBars",function(){var e=n.createElement("barContainer","pbar-container");n.progressBar.renderBars(e,n.pBarModel);var t=n.createElement("btnContainer","btn-container");n.buttonPanel.renderButtonPanel(t,n.pBarModel,n.progressBar.updateProgressBar,n.progressBar.updateSelectedBar),n.rootEle.appendChild(e),n.rootEle.appendChild(t)}),l(this,"createElement",function(e,t){var n=document.createElement("div");return n.id=e,n.className=t,n}),this.rootEle=t,this.pBarModel=s,this.progressBar=new i,this.buttonPanel=new c};try{u&&new u(document.getElementById("appContainer")).init()}catch(e){alert("ProgressBarApp not loaded")}}});
//# sourceMappingURL=app.2ca007e0.js.map